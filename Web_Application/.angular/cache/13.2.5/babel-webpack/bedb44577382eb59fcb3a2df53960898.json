{"ast":null,"code":"import { BehaviorSubject } from 'rxjs';\nimport { tap } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\"; // import { environment } from 'src/environments/environment';\n\nexport let DoctorService = /*#__PURE__*/(() => {\n  class DoctorService {\n    constructor(httpClientObj) {\n      this.httpClientObj = httpClientObj;\n      this.loginStatus = false; //get doctor values based on book appointment button selection\n\n      this.doctorBehaviourSubject = new BehaviorSubject(null);\n      this.logoutdoctorBehaviourSubject = new BehaviorSubject(null); //get appointment details after successfull payment\n\n      this.appointmentBehaviourSubject = new BehaviorSubject(null); //getAccountPageDetails\n\n      this.accountBehaviourSubject = new BehaviorSubject(null);\n    }\n\n    checkDoctorAvailability(doctor_id, slot, date) {\n      return this.httpClientObj.post('http://ec2-18-189-180-8.us-east-2.compute.amazonaws.com/check_doctor_availability', {\n        doctor_id,\n        slot,\n        date\n      });\n    } // Function to book appointment\n\n\n    bookAppointment(appointmentDetails) {\n      return this.httpClientObj.post('http://ec2-18-189-180-8.us-east-2.compute.amazonaws.com/book_appointment', appointmentDetails);\n    }\n\n    loginDoctor(userObj) {\n      // return this.httpClientObj.post('http://ec2-3-144-21-20.us-east-2.compute.amazonaws.com'+\"/doctor_login\", userObj);\n      return this.httpClientObj.post('http://ec2-18-189-180-8.us-east-2.compute.amazonaws.com' + \"/doctor_login\", userObj).pipe(tap(res => {\n        if (res.message === \"login success\") {\n          this.setLoggedInDoctor(res.doctor); // Call setLoggedInDoctor with doctor data\n        }\n      }));\n    }\n\n    setLoggedInDoctor(doctorData) {\n      this.doctorData = doctorData; // Assuming doctorData contains doctor's ID\n\n      this.loginStatus = true;\n    }\n\n    addDoctorToDatabase(userObj) {\n      return this.httpClientObj.post('http://ec2-18-189-180-8.us-east-2.compute.amazonaws.com' + \"/doctor_signup\", userObj);\n    }\n\n    getLoggedInDoctor() {\n      return this.doctorData;\n    }\n\n    getDoctorData() {\n      return this.doctorBehaviourSubject;\n    }\n\n    getAppointmentDetails() {\n      return this.appointmentBehaviourSubject;\n    }\n\n    getAccountPageDetails() {\n      return this.accountBehaviourSubject;\n    } // getDoctorList\n\n\n    getDoctorList() {\n      return this.httpClientObj.get('http://ec2-18-189-180-8.us-east-2.compute.amazonaws.com/get_doctors');\n    }\n\n    getDoctorName() {\n      return this.logoutdoctorBehaviourSubject;\n    }\n\n    doctorLogout() {\n      localStorage.removeItem(\"token\");\n      this.logoutdoctorBehaviourSubject.next(null);\n    }\n\n    reviewAppointment(appointmentId, action) {\n      return this.httpClientObj.post('http://ec2-18-189-180-8.us-east-2.compute.amazonaws.com/appointment_review', {\n        appointmentId,\n        action\n      });\n    }\n\n    getpendingDoctorSchedule() {\n      return this.httpClientObj.post('http://ec2-18-189-180-8.us-east-2.compute.amazonaws.com/doctor_awaiting_schedule', {\n        \"doctorId\": this.doctorData.doctor_id\n      });\n    }\n\n    getDoctorSchedule() {\n      console.log(this.doctorData);\n      return this.httpClientObj.post('http://ec2-18-189-180-8.us-east-2.compute.amazonaws.com/doctor_schedule', {\n        \"doctorId\": this.doctorData.doctor_id\n      });\n    } // Function to get doctor appointments\n\n\n    getDoctorAppointments() {\n      return this.httpClientObj.get('http://ec2-18-189-180-8.us-east-2.compute.amazonaws.com/doctor_appointments');\n    }\n\n  }\n\n  DoctorService.ɵfac = function DoctorService_Factory(t) {\n    return new (t || DoctorService)(i0.ɵɵinject(i1.HttpClient));\n  };\n\n  DoctorService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: DoctorService,\n    factory: DoctorService.ɵfac,\n    providedIn: 'root'\n  });\n  return DoctorService;\n})();","map":null,"metadata":{},"sourceType":"module"}